<!DOCTYPE html>
<html>
<head>
  <title>Upload Image</title>
</head>
<body>
it will work
  <h2>Upload Image to Google Drive</h2>
  <form id="uploadForm">
    <input type="file" id="imageFile" accept="image/*" />
    <button type="submit">Upload Image</button>
  </form>
  <pre id="output"></pre>

  <script>
    const form = document.getElementById("uploadForm");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const fileInput = document.getElementById("imageFile");
      const file = fileInput.files[0];

      if (!file) {
        alert("Please select a file!");
        return;
      }

      // ✅ Control file type
      if (!file.type.startsWith("image/")) {
        alert("Only images are allowed!");
        return;
      }

      // ✅ Control file size (max 2MB)
      if (file.size > 2 * 1024 * 1024) {
        alert("File too big! Max 2MB.");
        return;
      }

      // Convert image to base64
      const reader = new FileReader();
      reader.onload = function() {
        const base64Data = reader.result.split(",")[1];

        // Call Google Apps Script
        google.script.run.withSuccessHandler((msg) => {
          document.getElementById("output").textContent = msg;
        }).uploadImage(file.name, base64Data);
      };
      reader.readAsDataURL(file);
    });
  </script>
</body>
</html>